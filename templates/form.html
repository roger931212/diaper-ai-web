<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>å°¿å¸ƒç–¹ AI åˆæ­¥æª¢æ¸¬ - å¡«å¯«è³‡æ–™</title>

    <style>
        /* CSS Reset & åŸºæœ¬è¨­å®š */
        * { box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            max-width: 500px;
            margin: auto;
            padding: 20px;
            background: #f4f6f8;
            color: #333;
        }

        h2 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        form {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
            margin-top: 15px;
            color: #555;
        }

        input[type="text"], 
        input[type="tel"], 
        input[type="file"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 5px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px; /* é˜²æ­¢ iOS è‡ªå‹•ç¸®æ”¾ */
            background: #fff;
        }

        input:focus {
            border-color: #007bff;
            outline: none;
        }

        /* æç¤ºæ–‡å­— */
        .hint {
            font-size: 12px;
            color: #888;
            margin-bottom: 15px;
            display: block;
        }

        /* åœ–ç‰‡é è¦½å€ */
        #preview-container {
            display: none;
            margin-top: 10px;
            margin-bottom: 15px;
            text-align: center;
        }
        #preview-img {
            max-width: 100%;
            max-height: 250px;
            border-radius: 8px;
            border: 2px solid #eee;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        button {
            width: 100%;
            padding: 14px;
            margin-top: 20px;
            border: none;
            background: #007bff;
            color: white;
            font-size: 18px;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }

        button:hover { background: #0056b3; }
        button:disabled { background: #ccc; cursor: not-allowed; }

        /* ç°¡å–®çš„éš±ç§è²æ˜ */
        .privacy-note {
            margin-top: 20px;
            font-size: 13px;
            color: #999;
            text-align: center;
            line-height: 1.5;
        }
    </style>
</head>

<body>

<h2>ğŸ‘¶ å°¿å¸ƒç–¹ AI æª¢æ¸¬</h2>

<form id="uploadForm" action="/submit_case" method="post" enctype="multipart/form-data">

    <label>å®¶å±¬å§“å</label>
    <input type="text" name="name" placeholder="è«‹è¼¸å…¥å§“å" required />

    <label>è¯çµ¡é›»è©±</label>
    <input type="tel" name="phone" placeholder="09xx-xxx-xxx" required />

    <label>LINE ID</label>
    <input type="text" name="line_id" placeholder="ç”¨æ–¼é€šçŸ¥çµæœ" required />

    <label>ä¸Šå‚³æ‚£éƒ¨ç…§ç‰‡</label>
    <input type="file" id="imageInput" name="image" accept="image/jpeg, image/png, image/jpg" required />
    <span class="hint">è«‹ç¢ºä¿å…‰ç·šå……è¶³ï¼Œæ”¯æ´ jpg/pngï¼Œä¸Šé™ 6MBã€‚</span>

    <div id="preview-container">
        <img id="preview-img" src="#" alt="é è¦½åœ–ç‰‡" />
    </div>

    <button type="submit" id="submitBtn">é–‹å§‹åˆ†æ</button>

    <div class="privacy-note">
        æœ¬ç³»çµ±åƒ…ä¾›å­¸è¡“ç ”ç©¶åƒè€ƒï¼Œä¸¦éé†«ç™‚è¨ºæ–·ã€‚<br>
        æ‚¨çš„ç…§ç‰‡èˆ‡è³‡æ–™å°‡åœ¨åˆ†æå®Œæˆå¾Œè‡ªå‹•åˆªé™¤ã€‚
    </div>
</form>

<script>
    const form = document.getElementById('uploadForm');
    const fileInput = document.getElementById('imageInput');
    const submitBtn = document.getElementById('submitBtn');
    const previewContainer = document.getElementById('preview-container');
    const previewImg = document.getElementById('preview-img');
    
    // è¨­å®šæœ€å¤§æª”æ¡ˆå¤§å° (6MB)
    const MAX_SIZE = 6 * 1024 * 1024; 

    // åœ–ç‰‡é è¦½èˆ‡å¤§å°æª¢æŸ¥
    fileInput.addEventListener('change', function() {
        const file = this.files[0];

        if (file) {
            // æª¢æŸ¥å¤§å°
            if (file.size > MAX_SIZE) {
                alert(' æª”æ¡ˆå¤ªå¤§å›‰ï¼è«‹ä¸Šå‚³å°æ–¼ 6MB çš„ç…§ç‰‡ã€‚');
                this.value = ''; // æ¸…ç©º
                previewContainer.style.display = 'none';
                return;
            }

            // é¡¯ç¤ºé è¦½
            const reader = new FileReader();
            reader.onload = function(e) {
                previewImg.src = e.target.result;
                previewContainer.style.display = 'block';
            }
            reader.readAsDataURL(file);
        } else {
            previewContainer.style.display = 'none';
        }
    });

    // 4. å„ªåŒ–ï¼šè¡¨å–®é€å‡ºæ™‚çš„ Loading ç‹€æ…‹
    form.addEventListener('submit', function(e) {
        // æ”¹è®ŠæŒ‰éˆ•æ–‡å­—ä¸¦é–å®šï¼Œé˜²æ­¢é‡è¤‡æäº¤
        submitBtn.disabled = true;
        submitBtn.textContent = ' è³‡æ–™ä¸Šå‚³ä¸­ï¼Œè«‹ç¨å€™...';
        submitBtn.style.background = '#6c757d'; // è®Šç°è‰²
    });
</script>

</body>
</html>
